<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="google-site-verification" content="MJHSeYaGEt28yADqwV5afS2xRYKLJtfiFJGIh2SVanc">
    <meta name="naver-site-verification" content="c2c53cf1599fb62f9af70cf987bcd0030a961797">
    <script data-ad-client="ca-pub-6253400037210703" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yangjun-ux.github.io","root":"/","scheme":"Muse","version":"7.7.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="치킨 판매량 예측 모델 만들기">
<meta property="og:type" content="article">
<meta property="og:title" content="회귀분석 예제 - 치킨 판매량 예측 모델 만들기">
<meta property="og:url" content="https://yangjun-ux.github.io/2020/03/21/Chicken/index.html">
<meta property="og:site_name" content="YangJun-Ux BLOG">
<meta property="og:description" content="치킨 판매량 예측 모델 만들기">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://yangjun-ux.github.io/2020/03/21/Chicken/Chicken_65_0.png">
<meta property="article:published_time" content="2020-03-21T07:45:00.000Z">
<meta property="article:modified_time" content="2020-05-11T07:40:33.009Z">
<meta property="article:author" content="Jun Yang">
<meta property="article:tag" content="Programming">
<meta property="article:tag" content="DataScience">
<meta property="article:tag" content="LinearRegression">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yangjun-ux.github.io/2020/03/21/Chicken/Chicken_65_0.png">

<link rel="canonical" href="https://yangjun-ux.github.io/2020/03/21/Chicken/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>회귀분석 예제 - 치킨 판매량 예측 모델 만들기 | YangJun-Ux BLOG</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/rss2.xml" title="YangJun-Ux BLOG" type="application/rss+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">YangJun-Ux BLOG</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Be a Programmer</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://yangjun-ux.github.io/2020/03/21/Chicken/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/jun.JPG">
      <meta itemprop="name" content="Jun Yang">
      <meta itemprop="description" content="@데이터 사이언스, @머신러닝, @AI 개발자, @SeoulNationalUniversity">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="YangJun-Ux BLOG">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          회귀분석 예제 - 치킨 판매량 예측 모델 만들기
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-03-21 16:45:00" itemprop="dateCreated datePublished" datetime="2020-03-21T16:45:00+09:00">2020-03-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-05-11 16:40:33" itemprop="dateModified" datetime="2020-05-11T16:40:33+09:00">2020-05-11</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DataScience/" itemprop="url" rel="index"><span itemprop="name">DataScience</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DataScience/Linearregression/" itemprop="url" rel="index"><span itemprop="name">Linearregression</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2020/03/21/Chicken/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/03/21/Chicken/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="치킨-판매량-예측-모델-만들기"><a href="#치킨-판매량-예측-모델-만들기" class="headerlink" title="치킨 판매량 예측 모델 만들기"></a>치킨 판매량 예측 모델 만들기</h3><a id="more"></a>










<blockquote>
<h2 id="2018년-치킨-판매량-데이터와-기상-및-미세먼지-데이터를-활용한-판매량-예측-모델-만들기"><a href="#2018년-치킨-판매량-데이터와-기상-및-미세먼지-데이터를-활용한-판매량-예측-모델-만들기" class="headerlink" title="2018년 치킨 판매량 데이터와 기상 및 미세먼지 데이터를 활용한 판매량 예측 모델 만들기"></a>2018년 치킨 판매량 데이터와 기상 및 미세먼지 데이터를 활용한 판매량 예측 모델 만들기</h2></blockquote>
<ul>
<li>수요 예측 실패로 버려지는 식재료의 양이 많다 -&gt; 예측을 잘하면 손실을 줄일 수 있음</li>
</ul>
<blockquote>
<h3 id="1-데이터-불러오기"><a href="#1-데이터-불러오기" class="headerlink" title="1. 데이터 불러오기"></a>1. 데이터 불러오기</h3></blockquote>
<ul>
<li>2018년 치킨 판매 데이터 불러오기</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(<span class="string">'datas/chicken_2018.csv'</span>, encoding=<span class="string">'utf-8'</span>, parse_dates=[<span class="number">0</span>, <span class="number">1</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.drop(columns=[<span class="string">'연락처'</span>, <span class="string">'주소'</span>, <span class="string">'결제구분'</span>, <span class="string">'주문내역1'</span>, <span class="string">'주문내역2'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="판매량-계산을-위해-count-컬럼-추가"><a href="#판매량-계산을-위해-count-컬럼-추가" class="headerlink" title="판매량 계산을 위해 count 컬럼 추가"></a>판매량 계산을 위해 count 컬럼 추가</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'count'</span>] = <span class="number">1</span></span><br><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>판매일자</th>
      <th>시간</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>2020-05-11 12:06:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>2020-05-11 12:19:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>2020-05-11 13:01:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>2020-05-11 13:48:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>2020-05-11 14:06:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>15542</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:14:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15543</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:16:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15544</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:29:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15545</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:31:00</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15546</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:37:00</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>15547 rows × 3 columns</p>
</div>



<blockquote>
<h3 id="요일별-시간별-판매량-확인"><a href="#요일별-시간별-판매량-확인" class="headerlink" title="요일별, 시간별 판매량 확인"></a>요일별, 시간별 판매량 확인</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'weekofday'</span>] = df[<span class="string">'판매일자'</span>].dt.dayofweek</span><br><span class="line">df[<span class="string">'hour'</span>] = df[<span class="string">'시간'</span>].dt.hour</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>판매일자</th>
      <th>시간</th>
      <th>count</th>
      <th>weekofday</th>
      <th>hour</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>2020-05-11 12:06:00</td>
      <td>1</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>2020-05-11 12:19:00</td>
      <td>1</td>
      <td>0</td>
      <td>12</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>2020-05-11 13:01:00</td>
      <td>1</td>
      <td>0</td>
      <td>13</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>2020-05-11 13:48:00</td>
      <td>1</td>
      <td>0</td>
      <td>13</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>2020-05-11 14:06:00</td>
      <td>1</td>
      <td>0</td>
      <td>14</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>15542</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:14:00</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15543</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:16:00</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15544</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:29:00</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15545</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:31:00</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>15546</td>
      <td>2018-12-31</td>
      <td>2020-05-11 01:37:00</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>15547 rows × 5 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.drop(columns=[<span class="string">'시간'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="요일-시간-별-판매량"><a href="#요일-시간-별-판매량" class="headerlink" title="요일, 시간 별 판매량"></a>요일, 시간 별 판매량</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = df.groupby([<span class="string">'판매일자'</span>, <span class="string">'weekofday'</span>, <span class="string">'hour'</span>]) [<span class="string">'count'</span>].sum()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = df.reset_index()</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.rename(columns=&#123;<span class="string">'판매일자'</span>:<span class="string">'date'</span>&#125;, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>weekofday</th>
      <th>hour</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>12</td>
      <td>2</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>13</td>
      <td>2</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>14</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>15</td>
      <td>3</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>16</td>
      <td>4</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>3860</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>19</td>
      <td>8</td>
    </tr>
    <tr>
      <td>3861</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>20</td>
      <td>6</td>
    </tr>
    <tr>
      <td>3862</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>21</td>
      <td>8</td>
    </tr>
    <tr>
      <td>3863</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>22</td>
      <td>5</td>
    </tr>
    <tr>
      <td>3864</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>23</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
<p>3865 rows × 4 columns</p>
</div>



<blockquote>
<h3 id="기상-데이터-불러오기"><a href="#기상-데이터-불러오기" class="headerlink" title="기상 데이터 불러오기"></a>기상 데이터 불러오기</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">weather_df = pd.read_csv(<span class="string">'datas/weather_2018.csv'</span>, encoding=<span class="string">'euc-kr'</span>, parse_dates=[<span class="number">2</span>])</span><br><span class="line">weather_df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지점</th>
      <th>지점명</th>
      <th>일시</th>
      <th>기온(°C)</th>
      <th>기온 QC플래그</th>
      <th>강수량(mm)</th>
      <th>강수량 QC플래그</th>
      <th>풍속(m/s)</th>
      <th>풍속 QC플래그</th>
      <th>풍향(16방위)</th>
      <th>풍향 QC플래그</th>
      <th>습도(%)</th>
      <th>습도 QC플래그</th>
      <th>현지기압(hPa)</th>
      <th>현지기압 QC플래그</th>
      <th>적설(cm)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-01-01 01:00:00</td>
      <td>-3.3</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.7</td>
      <td>0.0</td>
      <td>360.0</td>
      <td>0.0</td>
      <td>41</td>
      <td>0.0</td>
      <td>1015.1</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>1</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-01-01 02:00:00</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.9</td>
      <td>0.0</td>
      <td>270.0</td>
      <td>0.0</td>
      <td>42</td>
      <td>0.0</td>
      <td>1015.2</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>2</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-01-01 03:00:00</td>
      <td>-4.0</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>290.0</td>
      <td>0.0</td>
      <td>44</td>
      <td>0.0</td>
      <td>1015.5</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>3</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-01-01 04:00:00</td>
      <td>-4.2</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.1</td>
      <td>0.0</td>
      <td>290.0</td>
      <td>0.0</td>
      <td>53</td>
      <td>0.0</td>
      <td>1015.5</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>4</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-01-01 05:00:00</td>
      <td>-4.4</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.8</td>
      <td>0.0</td>
      <td>290.0</td>
      <td>0.0</td>
      <td>54</td>
      <td>0.0</td>
      <td>1015.7</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>8754</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-12-31 19:00:00</td>
      <td>-3.1</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2.1</td>
      <td>0.0</td>
      <td>270.0</td>
      <td>0.0</td>
      <td>43</td>
      <td>0.0</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8755</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-12-31 20:00:00</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.8</td>
      <td>0.0</td>
      <td>340.0</td>
      <td>0.0</td>
      <td>39</td>
      <td>0.0</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8756</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-12-31 21:00:00</td>
      <td>-4.6</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.1</td>
      <td>0.0</td>
      <td>290.0</td>
      <td>0.0</td>
      <td>44</td>
      <td>0.0</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8757</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-12-31 22:00:00</td>
      <td>-5.4</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.3</td>
      <td>0.0</td>
      <td>270.0</td>
      <td>0.0</td>
      <td>46</td>
      <td>0.0</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8758</td>
      <td>108</td>
      <td>서울</td>
      <td>2018-12-31 23:00:00</td>
      <td>-5.2</td>
      <td>0.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1.6</td>
      <td>0.0</td>
      <td>320.0</td>
      <td>0.0</td>
      <td>47</td>
      <td>0.0</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>8759 rows × 16 columns</p>
</div>



<h3 id="센서-데이터에서-오류-찾기"><a href="#센서-데이터에서-오류-찾기" class="headerlink" title="센서 데이터에서 오류 찾기"></a>센서 데이터에서 오류 찾기</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df = weather_df[weather_df[<span class="string">'풍향 QC플래그'</span>] != <span class="number">9</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.columns</span><br></pre></td></tr></table></figure>




<pre><code>Index([&apos;지점&apos;, &apos;지점명&apos;, &apos;일시&apos;, &apos;기온(°C)&apos;, &apos;기온 QC플래그&apos;, &apos;강수량(mm)&apos;, &apos;강수량 QC플래그&apos;,
       &apos;풍속(m/s)&apos;, &apos;풍속 QC플래그&apos;, &apos;풍향(16방위)&apos;, &apos;풍향 QC플래그&apos;, &apos;습도(%)&apos;, &apos;습도 QC플래그&apos;,
       &apos;현지기압(hPa)&apos;, &apos;현지기압 QC플래그&apos;, &apos;적설(cm)&apos;],
      dtype=&apos;object&apos;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.drop(columns=[<span class="string">'기온 QC플래그'</span>, <span class="string">'강수량 QC플래그'</span>, <span class="string">'풍향 QC플래그'</span>, <span class="string">'습도 QC플래그'</span>, <span class="string">'현지기압 QC플래그'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.drop(columns=[<span class="string">'지점'</span>, <span class="string">'지점명'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.drop(columns=[<span class="string">'풍속 QC플래그'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>일시</th>
      <th>기온(°C)</th>
      <th>강수량(mm)</th>
      <th>풍속(m/s)</th>
      <th>풍향(16방위)</th>
      <th>습도(%)</th>
      <th>현지기압(hPa)</th>
      <th>적설(cm)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01 01:00:00</td>
      <td>-3.3</td>
      <td>NaN</td>
      <td>0.7</td>
      <td>360.0</td>
      <td>41</td>
      <td>1015.1</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01 02:00:00</td>
      <td>-3.7</td>
      <td>NaN</td>
      <td>0.9</td>
      <td>270.0</td>
      <td>42</td>
      <td>1015.2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01 03:00:00</td>
      <td>-4.0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>290.0</td>
      <td>44</td>
      <td>1015.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01 04:00:00</td>
      <td>-4.2</td>
      <td>NaN</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>53</td>
      <td>1015.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01 05:00:00</td>
      <td>-4.4</td>
      <td>NaN</td>
      <td>0.8</td>
      <td>290.0</td>
      <td>54</td>
      <td>1015.7</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>8754</td>
      <td>2018-12-31 19:00:00</td>
      <td>-3.1</td>
      <td>NaN</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8755</td>
      <td>2018-12-31 20:00:00</td>
      <td>-3.7</td>
      <td>NaN</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8756</td>
      <td>2018-12-31 21:00:00</td>
      <td>-4.6</td>
      <td>NaN</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8757</td>
      <td>2018-12-31 22:00:00</td>
      <td>-5.4</td>
      <td>NaN</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>NaN</td>
    </tr>
    <tr>
      <td>8758</td>
      <td>2018-12-31 23:00:00</td>
      <td>-5.2</td>
      <td>NaN</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>8757 rows × 8 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.isnull().sum()</span><br></pre></td></tr></table></figure>




<pre><code>일시              0
기온(°C)          1
강수량(mm)      7851
풍속(m/s)         0
풍향(16방위)        0
습도(%)           0
현지기압(hPa)       0
적설(cm)       8469
dtype: int64</code></pre><blockquote>
<h3 id="강수량과-적설-NaN-값을-0으로-바꾸기"><a href="#강수량과-적설-NaN-값을-0으로-바꾸기" class="headerlink" title="강수량과 적설 NaN 값을 0으로 바꾸기"></a>강수량과 적설 NaN 값을 0으로 바꾸기</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.fillna(<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">weather_df[<span class="string">'month'</span>] = weather_df[<span class="string">'일시'</span>].dt.month</span><br><span class="line">weather_df[<span class="string">'hour'</span>] = weather_df[<span class="string">'일시'</span>].dt.hour</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>일시</th>
      <th>기온(°C)</th>
      <th>강수량(mm)</th>
      <th>풍속(m/s)</th>
      <th>풍향(16방위)</th>
      <th>습도(%)</th>
      <th>현지기압(hPa)</th>
      <th>적설(cm)</th>
      <th>month</th>
      <th>hour</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01 01:00:00</td>
      <td>-3.3</td>
      <td>0.0</td>
      <td>0.7</td>
      <td>360.0</td>
      <td>41</td>
      <td>1015.1</td>
      <td>0.0</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01 02:00:00</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.9</td>
      <td>270.0</td>
      <td>42</td>
      <td>1015.2</td>
      <td>0.0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01 03:00:00</td>
      <td>-4.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>290.0</td>
      <td>44</td>
      <td>1015.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01 04:00:00</td>
      <td>-4.2</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>53</td>
      <td>1015.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01 05:00:00</td>
      <td>-4.4</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>290.0</td>
      <td>54</td>
      <td>1015.7</td>
      <td>0.0</td>
      <td>1</td>
      <td>5</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>8754</td>
      <td>2018-12-31 19:00:00</td>
      <td>-3.1</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>12</td>
      <td>19</td>
    </tr>
    <tr>
      <td>8755</td>
      <td>2018-12-31 20:00:00</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>12</td>
      <td>20</td>
    </tr>
    <tr>
      <td>8756</td>
      <td>2018-12-31 21:00:00</td>
      <td>-4.6</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>12</td>
      <td>21</td>
    </tr>
    <tr>
      <td>8757</td>
      <td>2018-12-31 22:00:00</td>
      <td>-5.4</td>
      <td>0.0</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
    </tr>
    <tr>
      <td>8758</td>
      <td>2018-12-31 23:00:00</td>
      <td>-5.2</td>
      <td>0.0</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>12</td>
      <td>23</td>
    </tr>
  </tbody>
</table>
<p>8757 rows × 10 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df[<span class="string">"date"</span>] = pd.to_datetime(weather_df[<span class="string">'일시'</span>]).dt.strftime(<span class="string">'%Y-%m-%d'</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df.drop(columns=[<span class="string">'일시'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>기온(°C)</th>
      <th>강수량(mm)</th>
      <th>풍속(m/s)</th>
      <th>풍향(16방위)</th>
      <th>습도(%)</th>
      <th>현지기압(hPa)</th>
      <th>적설(cm)</th>
      <th>month</th>
      <th>hour</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>-3.3</td>
      <td>0.0</td>
      <td>0.7</td>
      <td>360.0</td>
      <td>41</td>
      <td>1015.1</td>
      <td>0.0</td>
      <td>1</td>
      <td>1</td>
      <td>2018-01-01</td>
    </tr>
    <tr>
      <td>1</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.9</td>
      <td>270.0</td>
      <td>42</td>
      <td>1015.2</td>
      <td>0.0</td>
      <td>1</td>
      <td>2</td>
      <td>2018-01-01</td>
    </tr>
    <tr>
      <td>2</td>
      <td>-4.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>290.0</td>
      <td>44</td>
      <td>1015.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>3</td>
      <td>2018-01-01</td>
    </tr>
    <tr>
      <td>3</td>
      <td>-4.2</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>53</td>
      <td>1015.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>4</td>
      <td>2018-01-01</td>
    </tr>
    <tr>
      <td>4</td>
      <td>-4.4</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>290.0</td>
      <td>54</td>
      <td>1015.7</td>
      <td>0.0</td>
      <td>1</td>
      <td>5</td>
      <td>2018-01-01</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>8754</td>
      <td>-3.1</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>12</td>
      <td>19</td>
      <td>2018-12-31</td>
    </tr>
    <tr>
      <td>8755</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>12</td>
      <td>20</td>
      <td>2018-12-31</td>
    </tr>
    <tr>
      <td>8756</td>
      <td>-4.6</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>12</td>
      <td>21</td>
      <td>2018-12-31</td>
    </tr>
    <tr>
      <td>8757</td>
      <td>-5.4</td>
      <td>0.0</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
      <td>2018-12-31</td>
    </tr>
    <tr>
      <td>8758</td>
      <td>-5.2</td>
      <td>0.0</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>12</td>
      <td>23</td>
      <td>2018-12-31</td>
    </tr>
  </tbody>
</table>
<p>8757 rows × 10 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">weather_df[<span class="string">'date'</span>] = weather_df[<span class="string">'date'</span>].astype(<span class="string">'str'</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'date'</span>] = df[<span class="string">'date'</span>].astype(<span class="string">'str'</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="기상-데이터와-판매량-데이터-merge"><a href="#기상-데이터와-판매량-데이터-merge" class="headerlink" title="기상 데이터와 판매량 데이터 merge"></a>기상 데이터와 판매량 데이터 merge</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.merge(df, weather_df, left_on=[<span class="string">'date'</span>, <span class="string">'hour'</span>], right_on=[<span class="string">'date'</span>, <span class="string">'hour'</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>weekofday</th>
      <th>hour</th>
      <th>count</th>
      <th>기온(°C)</th>
      <th>강수량(mm)</th>
      <th>풍속(m/s)</th>
      <th>풍향(16방위)</th>
      <th>습도(%)</th>
      <th>현지기압(hPa)</th>
      <th>적설(cm)</th>
      <th>month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>12</td>
      <td>2</td>
      <td>1.5</td>
      <td>0.0</td>
      <td>2.8</td>
      <td>290.0</td>
      <td>20</td>
      <td>1017.6</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>13</td>
      <td>2</td>
      <td>2.4</td>
      <td>0.0</td>
      <td>2.3</td>
      <td>290.0</td>
      <td>22</td>
      <td>1016.7</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>14</td>
      <td>1</td>
      <td>3.7</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>230.0</td>
      <td>24</td>
      <td>1016.4</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>15</td>
      <td>3</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2.9</td>
      <td>320.0</td>
      <td>27</td>
      <td>1016.1</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>16</td>
      <td>4</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2.5</td>
      <td>230.0</td>
      <td>28</td>
      <td>1016.5</td>
      <td>0.0</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>3860</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>19</td>
      <td>8</td>
      <td>-3.1</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>12</td>
    </tr>
    <tr>
      <td>3861</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>20</td>
      <td>6</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>12</td>
    </tr>
    <tr>
      <td>3862</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>21</td>
      <td>8</td>
      <td>-4.6</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>12</td>
    </tr>
    <tr>
      <td>3863</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>22</td>
      <td>5</td>
      <td>-5.4</td>
      <td>0.0</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>12</td>
    </tr>
    <tr>
      <td>3864</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>23</td>
      <td>4</td>
      <td>-5.2</td>
      <td>0.0</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
<p>3865 rows × 12 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.info()</span><br></pre></td></tr></table></figure>

<pre><code>&lt;class &apos;pandas.core.frame.DataFrame&apos;&gt;
Int64Index: 3865 entries, 0 to 3864
Data columns (total 12 columns):
date         3865 non-null object
weekofday    3865 non-null int64
hour         3865 non-null int64
count        3865 non-null int64
기온(°C)       3865 non-null float64
강수량(mm)      3865 non-null float64
풍속(m/s)      3865 non-null float64
풍향(16방위)     3865 non-null float64
습도(%)        3865 non-null int64
현지기압(hPa)    3865 non-null float64
적설(cm)       3865 non-null float64
month        3865 non-null int64
dtypes: float64(6), int64(5), object(1)
memory usage: 392.5+ KB</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df1.rename(columns=&#123;</span><br><span class="line">    <span class="string">'기온(°C)'</span> : <span class="string">'temperature'</span>,</span><br><span class="line">    <span class="string">'강수량(mm)'</span> : <span class="string">'rain'</span>,</span><br><span class="line">    <span class="string">'풍속(m/s)'</span> : <span class="string">'wind_speed'</span>,</span><br><span class="line">    <span class="string">'습도(%)'</span> : <span class="string">'moisture'</span>,</span><br><span class="line">    <span class="string">'현지기압(hPa)'</span> : <span class="string">'pressure'</span>,</span><br><span class="line">    <span class="string">'적설(cm)'</span> : <span class="string">'snow'</span></span><br><span class="line">&#125;, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<h3 id="미세먼지-데이터-불러오기"><a href="#미세먼지-데이터-불러오기" class="headerlink" title="미세먼지 데이터 불러오기"></a>미세먼지 데이터 불러오기</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dust_df = pd.read_csv(<span class="string">'datas/dust.csv'</span>, encoding=<span class="string">'euc-kr'</span>, parse_dates=[<span class="number">2</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dust_df.drop(columns=[<span class="string">'지점'</span>, <span class="string">'지점명'</span>], inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dust_df[<span class="string">'month'</span>] = dust_df[<span class="string">'일시'</span>].dt.month</span><br><span class="line">dust_df[<span class="string">'hour'</span>] = dust_df[<span class="string">'일시'</span>].dt.hour</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dust_df.columns</span><br></pre></td></tr></table></figure>




<pre><code>Index([&apos;일시&apos;, &apos;1시간평균 미세먼지농도(㎍/㎥)&apos;, &apos;month&apos;, &apos;hour&apos;], dtype=&apos;object&apos;)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dust_df.rename(columns=&#123;</span><br><span class="line">    <span class="string">'일시'</span>:<span class="string">'date'</span>,</span><br><span class="line">    <span class="string">'1시간평균 미세먼지농도(㎍/㎥)'</span>:<span class="string">'PM10'</span></span><br><span class="line">&#125;, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dust_df[<span class="string">'date'</span>] = pd.to_datetime(dust_df[<span class="string">'date'</span>]).dt.strftime(<span class="string">'%Y-%m-%d'</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dust_df</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>PM10</th>
      <th>month</th>
      <th>hour</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>22</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>21</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>20</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>27</td>
      <td>1</td>
      <td>3</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>25</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>7549</td>
      <td>2018-12-31</td>
      <td>35</td>
      <td>12</td>
      <td>19</td>
    </tr>
    <tr>
      <td>7550</td>
      <td>2018-12-31</td>
      <td>22</td>
      <td>12</td>
      <td>20</td>
    </tr>
    <tr>
      <td>7551</td>
      <td>2018-12-31</td>
      <td>22</td>
      <td>12</td>
      <td>21</td>
    </tr>
    <tr>
      <td>7552</td>
      <td>2018-12-31</td>
      <td>18</td>
      <td>12</td>
      <td>22</td>
    </tr>
    <tr>
      <td>7553</td>
      <td>2018-12-31</td>
      <td>24</td>
      <td>12</td>
      <td>23</td>
    </tr>
  </tbody>
</table>
<p>7554 rows × 4 columns</p>
</div>



<blockquote>
<h3 id="미세먼지-데이터도-합쳐줍니다"><a href="#미세먼지-데이터도-합쳐줍니다" class="headerlink" title="미세먼지 데이터도 합쳐줍니다"></a>미세먼지 데이터도 합쳐줍니다</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2 = pd.merge(df1, dust_df, left_on=[<span class="string">'date'</span>, <span class="string">'month'</span>, <span class="string">'hour'</span>], right_on=[<span class="string">'date'</span>, <span class="string">'month'</span>, <span class="string">'hour'</span>])</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>weekofday</th>
      <th>hour</th>
      <th>count</th>
      <th>temperature</th>
      <th>rain</th>
      <th>wind_speed</th>
      <th>풍향(16방위)</th>
      <th>moisture</th>
      <th>pressure</th>
      <th>snow</th>
      <th>month</th>
      <th>PM10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>12</td>
      <td>2</td>
      <td>1.5</td>
      <td>0.0</td>
      <td>2.8</td>
      <td>290.0</td>
      <td>20</td>
      <td>1017.6</td>
      <td>0.0</td>
      <td>1</td>
      <td>22</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>13</td>
      <td>2</td>
      <td>2.4</td>
      <td>0.0</td>
      <td>2.3</td>
      <td>290.0</td>
      <td>22</td>
      <td>1016.7</td>
      <td>0.0</td>
      <td>1</td>
      <td>31</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>14</td>
      <td>1</td>
      <td>3.7</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>230.0</td>
      <td>24</td>
      <td>1016.4</td>
      <td>0.0</td>
      <td>1</td>
      <td>40</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>15</td>
      <td>3</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2.9</td>
      <td>320.0</td>
      <td>27</td>
      <td>1016.1</td>
      <td>0.0</td>
      <td>1</td>
      <td>47</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>16</td>
      <td>4</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2.5</td>
      <td>230.0</td>
      <td>28</td>
      <td>1016.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>45</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>3288</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>19</td>
      <td>8</td>
      <td>-3.1</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>12</td>
      <td>35</td>
    </tr>
    <tr>
      <td>3289</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>20</td>
      <td>6</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
    </tr>
    <tr>
      <td>3290</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>21</td>
      <td>8</td>
      <td>-4.6</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
    </tr>
    <tr>
      <td>3291</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>22</td>
      <td>5</td>
      <td>-5.4</td>
      <td>0.0</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>12</td>
      <td>18</td>
    </tr>
    <tr>
      <td>3292</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>23</td>
      <td>4</td>
      <td>-5.2</td>
      <td>0.0</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>12</td>
      <td>24</td>
    </tr>
  </tbody>
</table>
<p>3293 rows × 13 columns</p>
</div>



<blockquote>
<h3 id="주말-평일-여부-추가"><a href="#주말-평일-여부-추가" class="headerlink" title="주말 / 평일 여부 추가"></a>주말 / 평일 여부 추가</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2[<span class="string">"holiday"</span>] = df2[<span class="string">"weekofday"</span>].apply(<span class="keyword">lambda</span> date: <span class="number">0</span> <span class="keyword">if</span> date &gt;= <span class="number">5</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>weekofday</th>
      <th>hour</th>
      <th>count</th>
      <th>temperature</th>
      <th>rain</th>
      <th>wind_speed</th>
      <th>풍향(16방위)</th>
      <th>moisture</th>
      <th>pressure</th>
      <th>snow</th>
      <th>month</th>
      <th>PM10</th>
      <th>holiday</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>12</td>
      <td>2</td>
      <td>1.5</td>
      <td>0.0</td>
      <td>2.8</td>
      <td>290.0</td>
      <td>20</td>
      <td>1017.6</td>
      <td>0.0</td>
      <td>1</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>13</td>
      <td>2</td>
      <td>2.4</td>
      <td>0.0</td>
      <td>2.3</td>
      <td>290.0</td>
      <td>22</td>
      <td>1016.7</td>
      <td>0.0</td>
      <td>1</td>
      <td>31</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>14</td>
      <td>1</td>
      <td>3.7</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>230.0</td>
      <td>24</td>
      <td>1016.4</td>
      <td>0.0</td>
      <td>1</td>
      <td>40</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>15</td>
      <td>3</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2.9</td>
      <td>320.0</td>
      <td>27</td>
      <td>1016.1</td>
      <td>0.0</td>
      <td>1</td>
      <td>47</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>16</td>
      <td>4</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>2.5</td>
      <td>230.0</td>
      <td>28</td>
      <td>1016.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>45</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>3288</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>19</td>
      <td>8</td>
      <td>-3.1</td>
      <td>0.0</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>12</td>
      <td>35</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3289</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>20</td>
      <td>6</td>
      <td>-3.7</td>
      <td>0.0</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3290</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>21</td>
      <td>8</td>
      <td>-4.6</td>
      <td>0.0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3291</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>22</td>
      <td>5</td>
      <td>-5.4</td>
      <td>0.0</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>12</td>
      <td>18</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3292</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>23</td>
      <td>4</td>
      <td>-5.2</td>
      <td>0.0</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>12</td>
      <td>24</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>3293 rows × 14 columns</p>
</div>



<blockquote>
<h3 id="강수량은-카테고리-값으로-변경"><a href="#강수량은-카테고리-값으로-변경" class="headerlink" title="강수량은 카테고리 값으로 변경"></a>강수량은 카테고리 값으로 변경</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2[<span class="string">'rain'</span>] = df2[<span class="string">'rain'</span>].apply(<span class="keyword">lambda</span> x: <span class="number">0</span> <span class="keyword">if</span> x == <span class="number">0</span> <span class="keyword">else</span> <span class="number">1</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure>




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>weekofday</th>
      <th>hour</th>
      <th>count</th>
      <th>temperature</th>
      <th>rain</th>
      <th>wind_speed</th>
      <th>풍향(16방위)</th>
      <th>moisture</th>
      <th>pressure</th>
      <th>snow</th>
      <th>month</th>
      <th>PM10</th>
      <th>holiday</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>12</td>
      <td>2</td>
      <td>1.5</td>
      <td>0</td>
      <td>2.8</td>
      <td>290.0</td>
      <td>20</td>
      <td>1017.6</td>
      <td>0.0</td>
      <td>1</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <td>1</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>13</td>
      <td>2</td>
      <td>2.4</td>
      <td>0</td>
      <td>2.3</td>
      <td>290.0</td>
      <td>22</td>
      <td>1016.7</td>
      <td>0.0</td>
      <td>1</td>
      <td>31</td>
      <td>1</td>
    </tr>
    <tr>
      <td>2</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>14</td>
      <td>1</td>
      <td>3.7</td>
      <td>0</td>
      <td>2.1</td>
      <td>230.0</td>
      <td>24</td>
      <td>1016.4</td>
      <td>0.0</td>
      <td>1</td>
      <td>40</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>15</td>
      <td>3</td>
      <td>3.0</td>
      <td>0</td>
      <td>2.9</td>
      <td>320.0</td>
      <td>27</td>
      <td>1016.1</td>
      <td>0.0</td>
      <td>1</td>
      <td>47</td>
      <td>1</td>
    </tr>
    <tr>
      <td>4</td>
      <td>2018-01-01</td>
      <td>0</td>
      <td>16</td>
      <td>4</td>
      <td>3.0</td>
      <td>0</td>
      <td>2.5</td>
      <td>230.0</td>
      <td>28</td>
      <td>1016.5</td>
      <td>0.0</td>
      <td>1</td>
      <td>45</td>
      <td>1</td>
    </tr>
    <tr>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <td>3288</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>19</td>
      <td>8</td>
      <td>-3.1</td>
      <td>0</td>
      <td>2.1</td>
      <td>270.0</td>
      <td>43</td>
      <td>1025.5</td>
      <td>0.0</td>
      <td>12</td>
      <td>35</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3289</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>20</td>
      <td>6</td>
      <td>-3.7</td>
      <td>0</td>
      <td>0.8</td>
      <td>340.0</td>
      <td>39</td>
      <td>1024.9</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3290</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>21</td>
      <td>8</td>
      <td>-4.6</td>
      <td>0</td>
      <td>1.1</td>
      <td>290.0</td>
      <td>44</td>
      <td>1024.8</td>
      <td>0.0</td>
      <td>12</td>
      <td>22</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3291</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>22</td>
      <td>5</td>
      <td>-5.4</td>
      <td>0</td>
      <td>1.3</td>
      <td>270.0</td>
      <td>46</td>
      <td>1024.4</td>
      <td>0.0</td>
      <td>12</td>
      <td>18</td>
      <td>1</td>
    </tr>
    <tr>
      <td>3292</td>
      <td>2018-12-31</td>
      <td>0</td>
      <td>23</td>
      <td>4</td>
      <td>-5.2</td>
      <td>0</td>
      <td>1.6</td>
      <td>320.0</td>
      <td>47</td>
      <td>1024.6</td>
      <td>0.0</td>
      <td>12</td>
      <td>24</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>3293 rows × 14 columns</p>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = list(df2.columns)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a</span><br></pre></td></tr></table></figure>




<pre><code>[&apos;date&apos;,
 &apos;weekofday&apos;,
 &apos;hour&apos;,
 &apos;count&apos;,
 &apos;temperature&apos;,
 &apos;rain&apos;,
 &apos;wind_speed&apos;,
 &apos;풍향(16방위)&apos;,
 &apos;moisture&apos;,
 &apos;pressure&apos;,
 &apos;snow&apos;,
 &apos;month&apos;,
 &apos;PM10&apos;,
 &apos;holiday&apos;]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a.remove(<span class="string">'date'</span>)</span><br><span class="line">a.remove(<span class="string">'count'</span>)</span><br><span class="line">a.remove(<span class="string">'풍향(16방위)'</span>)</span><br><span class="line">a.remove(<span class="string">'weekofday'</span>)</span><br><span class="line">a.remove(<span class="string">'month'</span>)</span><br><span class="line">a.remove(<span class="string">'hour'</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1[<span class="string">'hour'</span>] = df1[<span class="string">'hour'</span>].astype(<span class="string">'int'</span>)</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feature_names = [<span class="string">"scale(&#123;&#125;)"</span>.format(name) <span class="keyword">for</span> name <span class="keyword">in</span> a] + [<span class="string">'C(month) + C(hour) + C(holiday)'</span>]</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">feature_names</span><br></pre></td></tr></table></figure>




<pre><code>[&apos;scale(temperature)&apos;,
 &apos;scale(rain)&apos;,
 &apos;scale(wind_speed)&apos;,
 &apos;scale(moisture)&apos;,
 &apos;scale(pressure)&apos;,
 &apos;scale(snow)&apos;,
 &apos;scale(PM10)&apos;,
 &apos;scale(holiday)&apos;,
 &apos;C(month) + C(hour) + C(holiday)&apos;]</code></pre><blockquote>
<h3 id="예측모델-만들기"><a href="#예측모델-만들기" class="headerlink" title="예측모델 만들기"></a>예측모델 만들기</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model1 = sm.OLS.from_formula(<span class="string">"count ~  scale(temperature) + scale(wind_speed) + scale(moisture) + scale(pressure) + scale(snow) + scale(PM10) + C(rain) + C(holiday) + C(hour) + 0"</span>, df2)</span><br><span class="line">result1 = model1.fit()</span><br><span class="line">print(result1.summary(()))</span><br></pre></td></tr></table></figure>

<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                     ()   R-squared:                       0.403
Model:                            OLS   Adj. R-squared:                  0.399
Method:                 Least Squares   F-statistic:                     91.99
Date:                Mon, 11 May 2020   Prob (F-statistic):               0.00
Time:                        16:11:40   Log-Likelihood:                -7124.4
No. Observations:                3293   AIC:                         1.430e+04
Df Residuals:                    3268   BIC:                         1.445e+04
Df Model:                          24                                         
Covariance Type:            nonrobust                                         
======================================================================================
                         coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------------
C(rain)[0]             3.4146      0.151     22.587      0.000       3.118       3.711
C(rain)[1]             3.7982      0.285     13.333      0.000       3.240       4.357
C(holiday)[T.1]       -0.9657      0.079    -12.159      0.000      -1.121      -0.810
C(hour)[T.1]          -0.3810      0.192     -1.979      0.048      -0.758      -0.004
C(hour)[T.2]          -1.4257      1.232     -1.157      0.247      -3.841       0.990
C(hour)[T.10]         -2.8899      2.129     -1.357      0.175      -7.065       1.285
C(hour)[T.11]         -1.8479      0.958     -1.930      0.054      -3.725       0.030
C(hour)[T.12]         -1.0319      0.243     -4.252      0.000      -1.508      -0.556
C(hour)[T.13]         -0.9079      0.233     -3.893      0.000      -1.365      -0.451
C(hour)[T.14]         -0.8310      0.235     -3.537      0.000      -1.292      -0.370
C(hour)[T.15]         -0.6935      0.216     -3.211      0.001      -1.117      -0.270
C(hour)[T.16]         -0.3117      0.205     -1.523      0.128      -0.713       0.089
C(hour)[T.17]          1.0481      0.197      5.326      0.000       0.662       1.434
C(hour)[T.18]          3.2446      0.190     17.104      0.000       2.873       3.617
C(hour)[T.19]          3.5672      0.190     18.738      0.000       3.194       3.940
C(hour)[T.20]          3.3160      0.191     17.395      0.000       2.942       3.690
C(hour)[T.21]          2.5903      0.193     13.454      0.000       2.213       2.968
C(hour)[T.22]          1.8951      0.190      9.999      0.000       1.524       2.267
C(hour)[T.23]          0.9519      0.189      5.026      0.000       0.581       1.323
scale(temperature)    -0.1818      0.066     -2.740      0.006      -0.312      -0.052
scale(wind_speed)      0.0302      0.042      0.711      0.477      -0.053       0.114
scale(moisture)        0.1098      0.050      2.193      0.028       0.012       0.208
scale(pressure)        0.1676      0.068      2.476      0.013       0.035       0.300
scale(snow)           -0.1219      0.038     -3.201      0.001      -0.197      -0.047
scale(PM10)           -0.0586      0.039     -1.505      0.132      -0.135       0.018
==============================================================================
Omnibus:                      653.758   Durbin-Watson:                   1.729
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             1969.755
Skew:                           1.017   Prob(JB):                         0.00
Kurtosis:                       6.196   Cond. No.                         82.3
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre><blockquote>
<h3 id="CCPR-플롯-그려보기"><a href="#CCPR-플롯-그려보기" class="headerlink" title="CCPR 플롯 그려보기"></a>CCPR 플롯 그려보기</h3></blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>, <span class="number">50</span>))</span><br><span class="line">sm.graphics.plot_ccpr_grid(result1, fig=fig)</span><br><span class="line">fig.suptitle(<span class="string">""</span>)</span><br><span class="line"></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="/2020/03/21/Chicken/Chicken_65_0.png" class>


<ul>
<li>R2 값이 0.4 정도로 낮아 실제 예측에 사용하기엔 좀 어려운 것 같다.</li>
<li>최근 5년치 데이터를 확보하여 추가로 분석해 볼 계획이다.</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Programming/" rel="tag"># Programming</a>
              <a href="/tags/DataScience/" rel="tag"># DataScience</a>
              <a href="/tags/LinearRegression/" rel="tag"># LinearRegression</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/03/harshad_num/" rel="prev" title="Programmers 문제풀이연습  - 하샤드 수 찾기">
      <i class="fa fa-chevron-left"></i> Programmers 문제풀이연습  - 하샤드 수 찾기
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/25/kakao_secretmap/" rel="next" title="Programmers 문제풀이연습  - KAKAO 비밀지도">
      Programmers 문제풀이연습  - KAKAO 비밀지도 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#치킨-판매량-예측-모델-만들기"><span class="nav-number">1.</span> <span class="nav-text">치킨 판매량 예측 모델 만들기</span></a></li></ol><li class="nav-item nav-level-2"><a class="nav-link" href="#2018년-치킨-판매량-데이터와-기상-및-미세먼지-데이터를-활용한-판매량-예측-모델-만들기"><span class="nav-number"></span> <span class="nav-text">2018년 치킨 판매량 데이터와 기상 및 미세먼지 데이터를 활용한 판매량 예측 모델 만들기</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-데이터-불러오기"><span class="nav-number">1.</span> <span class="nav-text">1. 데이터 불러오기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#판매량-계산을-위해-count-컬럼-추가"><span class="nav-number">2.</span> <span class="nav-text">판매량 계산을 위해 count 컬럼 추가</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#요일별-시간별-판매량-확인"><span class="nav-number">3.</span> <span class="nav-text">요일별, 시간별 판매량 확인</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#요일-시간-별-판매량"><span class="nav-number">4.</span> <span class="nav-text">요일, 시간 별 판매량</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#기상-데이터-불러오기"><span class="nav-number">5.</span> <span class="nav-text">기상 데이터 불러오기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#센서-데이터에서-오류-찾기"><span class="nav-number">6.</span> <span class="nav-text">센서 데이터에서 오류 찾기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#강수량과-적설-NaN-값을-0으로-바꾸기"><span class="nav-number">7.</span> <span class="nav-text">강수량과 적설 NaN 값을 0으로 바꾸기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#기상-데이터와-판매량-데이터-merge"><span class="nav-number">8.</span> <span class="nav-text">기상 데이터와 판매량 데이터 merge</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#미세먼지-데이터-불러오기"><span class="nav-number">9.</span> <span class="nav-text">미세먼지 데이터 불러오기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#미세먼지-데이터도-합쳐줍니다"><span class="nav-number">10.</span> <span class="nav-text">미세먼지 데이터도 합쳐줍니다</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#주말-평일-여부-추가"><span class="nav-number">11.</span> <span class="nav-text">주말 &#x2F; 평일 여부 추가</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#강수량은-카테고리-값으로-변경"><span class="nav-number">12.</span> <span class="nav-text">강수량은 카테고리 값으로 변경</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#예측모델-만들기"><span class="nav-number">13.</span> <span class="nav-text">예측모델 만들기</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CCPR-플롯-그려보기"><span class="nav-number">14.</span> <span class="nav-text">CCPR 플롯 그려보기</span></a></li></ol></li></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jun Yang" src="/images/jun.JPG">
  <p class="site-author-name" itemprop="name">Jun Yang</p>
  <div class="site-description" itemprop="description">@데이터 사이언스, @머신러닝, @AI 개발자, @SeoulNationalUniversity</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">17</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/yangjun-ux" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yangjun-ux" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:nov16jun@gmail.com" title="E-Mail → mailto:nov16jun@gmail.com" rel="external nofollow noopener noreferrer" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://github.com/yangjun-ux" title="https:&#x2F;&#x2F;github.com&#x2F;yangjun-ux" rel="external nofollow noopener noreferrer" target="_blank">Title</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jun Yang</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://muse.theme-next.org/" class="theme-link" rel="external nofollow noopener noreferrer" target="_blank">NexT.Muse</a> v7.7.1
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://yangjun-ux.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://yangjun-ux.github.io/2020/03/21/Chicken/";
    this.page.identifier = "2020/03/21/Chicken/";
    this.page.title = "회귀분석 예제 - 치킨 판매량 예측 모델 만들기";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://yangjun-ux.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
